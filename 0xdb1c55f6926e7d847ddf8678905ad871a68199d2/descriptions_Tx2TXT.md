The function transfers the total balance of the contract to a third-party address, 
and then transfers the remaining balance to the user.